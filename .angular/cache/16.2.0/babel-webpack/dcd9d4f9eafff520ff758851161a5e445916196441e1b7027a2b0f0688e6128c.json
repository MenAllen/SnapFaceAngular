{"ast":null,"code":"import _defineProperty from \"C:/Users/phili/Documents/Projets/Angular/snapface2/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nvar _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class FaceSnapsService {\n  constructor(http) {\n    _defineProperty(this, \"http\", void 0);\n    _defineProperty(this, \"faceSnaps\", []);\n    this.http = http;\n  }\n  /*  faceSnaps: FaceSnap[] = [\n      {\n        id: 1,\n        title: 'Archibald',\n        description: 'Mon meilleur ami depuis tout petit !',\n        imageUrl:\n          'https://cdn.pixabay.com/photo/2015/05/31/16/03/teddy-bear-792273_1280.jpg',\n        createdDate: new Date(),\n        snaps: 47,\n        location: 'Paris',\n      },\n      {\n        id: 2,\n        title: 'Three Rock Mountain',\n        description: 'Un endroit magnifique pour les randonnées.',\n        imageUrl:\n          'https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Three_Rock_Mountain_Southern_Tor.jpg/2880px-Three_Rock_Mountain_Southern_Tor.jpg',\n        createdDate: new Date(),\n        snaps: 6,\n        location: 'la montagne',\n      },\n      {\n        id: 3,\n        title: 'Un bon repas',\n        description: \"Mmmh que c'est bon !\",\n        imageUrl: 'https://wtop.com/wp-content/uploads/2020/06/HEALTHYFRESH.jpg',\n        createdDate: new Date(),\n        snaps: 156,\n      },\n      {\n        id: 4,\n        title: 'Archibald',\n        description: 'Mon meilleur ami depuis tout petit !',\n        imageUrl:\n          'https://cdn.pixabay.com/photo/2015/05/31/16/03/teddy-bear-792273_1280.jpg',\n        createdDate: new Date(),\n        snaps: 89,\n        location: 'Paris',\n      },\n      {\n        id: 5,\n        title: 'Three Rock Mountain',\n        description: 'Un endroit magnifique pour les randonnées.',\n        imageUrl:\n          'https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Three_Rock_Mountain_Southern_Tor.jpg/2880px-Three_Rock_Mountain_Southern_Tor.jpg',\n        createdDate: new Date(),\n        snaps: 27,\n        location: 'la montagne',\n      },\n      {\n        id: 6,\n        title: 'Un bon repas',\n        description: \"Mmmh que c'est bon !\",\n        imageUrl: 'https://wtop.com/wp-content/uploads/2020/06/HEALTHYFRESH.jpg',\n        createdDate: new Date(),\n        snaps: 101,\n      },\n    ];*/\n  getAllFaceSnaps() {\n    return this.http.get('http://localhost:3000/facesnaps');\n  }\n  getFaceSnapById(faceSnapId) {\n    /*    const faceSnap = this.faceSnaps.find(\n          (faceSnap) => faceSnap.id === faceSnapId\n        );\n        if (!faceSnap) {\n          throw new Error('FaceSnap not found!');\n        } else {\n          return faceSnap;\n        }*/\n  }\n  snapFaceSnapById(faceSnapId, snapType) {\n    //const faceSnap = this.getFaceSnapById(faceSnapId);\n    //snapType === 'snap' ? faceSnap.snaps++ : faceSnap.snaps--;\n    return this.http.get(`http://localhost:3000/facesnaps/${faceSnapId}`);\n  }\n  addFaceSnap(formValue) {\n    const faceSnap = {\n      ...formValue,\n      snaps: 0,\n      createdDate: new Date(),\n      id: this.faceSnaps[this.faceSnaps.length - 1].id + 1\n    };\n    this.faceSnaps.push(faceSnap);\n  }\n}\n_class = FaceSnapsService;\n_defineProperty(FaceSnapsService, \"\\u0275fac\", function FaceSnapsService_Factory(t) {\n  return new (t || _class)(i0.ɵɵinject(i1.HttpClient));\n});\n_defineProperty(FaceSnapsService, \"\\u0275prov\", /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n}));","map":{"version":3,"names":["FaceSnapsService","constructor","http","_defineProperty","getAllFaceSnaps","get","getFaceSnapById","faceSnapId","snapFaceSnapById","snapType","addFaceSnap","formValue","faceSnap","snaps","createdDate","Date","id","faceSnaps","length","push","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\phili\\Documents\\Projets\\Angular\\snapface2\\src\\app\\services\\face-snaps.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { FaceSnap } from '../models/face-snap.model';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class FaceSnapsService {\r\n\r\n  constructor(private http: HttpClient) {}\r\n  \r\n  faceSnaps: FaceSnap[] = [];\r\n\r\n/*  faceSnaps: FaceSnap[] = [\r\n    {\r\n      id: 1,\r\n      title: 'Archibald',\r\n      description: 'Mon meilleur ami depuis tout petit !',\r\n      imageUrl:\r\n        'https://cdn.pixabay.com/photo/2015/05/31/16/03/teddy-bear-792273_1280.jpg',\r\n      createdDate: new Date(),\r\n      snaps: 47,\r\n      location: 'Paris',\r\n    },\r\n    {\r\n      id: 2,\r\n      title: 'Three Rock Mountain',\r\n      description: 'Un endroit magnifique pour les randonnées.',\r\n      imageUrl:\r\n        'https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Three_Rock_Mountain_Southern_Tor.jpg/2880px-Three_Rock_Mountain_Southern_Tor.jpg',\r\n      createdDate: new Date(),\r\n      snaps: 6,\r\n      location: 'la montagne',\r\n    },\r\n    {\r\n      id: 3,\r\n      title: 'Un bon repas',\r\n      description: \"Mmmh que c'est bon !\",\r\n      imageUrl: 'https://wtop.com/wp-content/uploads/2020/06/HEALTHYFRESH.jpg',\r\n      createdDate: new Date(),\r\n      snaps: 156,\r\n    },\r\n    {\r\n      id: 4,\r\n      title: 'Archibald',\r\n      description: 'Mon meilleur ami depuis tout petit !',\r\n      imageUrl:\r\n        'https://cdn.pixabay.com/photo/2015/05/31/16/03/teddy-bear-792273_1280.jpg',\r\n      createdDate: new Date(),\r\n      snaps: 89,\r\n      location: 'Paris',\r\n    },\r\n    {\r\n      id: 5,\r\n      title: 'Three Rock Mountain',\r\n      description: 'Un endroit magnifique pour les randonnées.',\r\n      imageUrl:\r\n        'https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Three_Rock_Mountain_Southern_Tor.jpg/2880px-Three_Rock_Mountain_Southern_Tor.jpg',\r\n      createdDate: new Date(),\r\n      snaps: 27,\r\n      location: 'la montagne',\r\n    },\r\n    {\r\n      id: 6,\r\n      title: 'Un bon repas',\r\n      description: \"Mmmh que c'est bon !\",\r\n      imageUrl: 'https://wtop.com/wp-content/uploads/2020/06/HEALTHYFRESH.jpg',\r\n      createdDate: new Date(),\r\n      snaps: 101,\r\n    },\r\n  ];*/\r\n\r\n  getAllFaceSnaps(): Observable<FaceSnap[]> {\r\n    return this.http.get<FaceSnap[]>('http://localhost:3000/facesnaps');\r\n  }\r\n\r\n  getFaceSnapById(faceSnapId: number): Observable<FaceSnap> {\r\n/*    const faceSnap = this.faceSnaps.find(\r\n      (faceSnap) => faceSnap.id === faceSnapId\r\n    );\r\n    if (!faceSnap) {\r\n      throw new Error('FaceSnap not found!');\r\n    } else {\r\n      return faceSnap;\r\n    }*/\r\n  }\r\n\r\n  snapFaceSnapById(faceSnapId: number, snapType: 'snap' | 'unsnap'): void {\r\n    //const faceSnap = this.getFaceSnapById(faceSnapId);\r\n    //snapType === 'snap' ? faceSnap.snaps++ : faceSnap.snaps--;\r\n    return this.http.get<FaceSnap>(`http://localhost:3000/facesnaps/${faceSnapId}`);\r\n  }\r\n\r\n  addFaceSnap(formValue: {\r\n    title: string;\r\n    description: string;\r\n    imageUrl: string;\r\n    location?: string;\r\n  }) {\r\n    const faceSnap: FaceSnap = {\r\n      ...formValue,\r\n      snaps: 0,\r\n      createdDate: new Date(),\r\n      id: this.faceSnaps[this.faceSnaps.length - 1].id + 1,\r\n    };\r\n    this.faceSnaps.push(faceSnap);\r\n  }\r\n}\r\n"],"mappings":";;;;AAQA,OAAM,MAAOA,gBAAgB;EAE3BC,YAAoBC,IAAgB;IAAAC,eAAA;IAAAA,eAAA,oBAEZ,EAAE;IAFN,KAAAD,IAAI,GAAJA,IAAI;EAAe;EAIzC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA2DEE,eAAeA,CAAA;IACb,OAAO,IAAI,CAACF,IAAI,CAACG,GAAG,CAAa,iCAAiC,CAAC;EACrE;EAEAC,eAAeA,CAACC,UAAkB;IACpC;;;;;;;;EAAA;EAUEC,gBAAgBA,CAACD,UAAkB,EAAEE,QAA2B;IAC9D;IACA;IACA,OAAO,IAAI,CAACP,IAAI,CAACG,GAAG,CAAW,mCAAmCE,UAAU,EAAE,CAAC;EACjF;EAEAG,WAAWA,CAACC,SAKX;IACC,MAAMC,QAAQ,GAAa;MACzB,GAAGD,SAAS;MACZE,KAAK,EAAE,CAAC;MACRC,WAAW,EAAE,IAAIC,IAAI,EAAE;MACvBC,EAAE,EAAE,IAAI,CAACC,SAAS,CAAC,IAAI,CAACA,SAAS,CAACC,MAAM,GAAG,CAAC,CAAC,CAACF,EAAE,GAAG;KACpD;IACD,IAAI,CAACC,SAAS,CAACE,IAAI,CAACP,QAAQ,CAAC;EAC/B;;SAnGWZ,gBAAgB;AAAAG,eAAA,CAAhBH,gBAAgB,e;mBAAhBA,MAAgB,EAAAoB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;AAAApB,eAAA,CAAhBH,gBAAgB,gB;SAAhBA,MAAgB;EAAAwB,OAAA,EAAhBxB,MAAgB,CAAAyB,IAAA;EAAAC,UAAA,EAFf;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}